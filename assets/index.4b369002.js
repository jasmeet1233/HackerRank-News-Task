var S=Object.defineProperty,L=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var y=(s,e,n)=>e in s?S(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n,d=(s,e)=>{for(var n in e||(e={}))b.call(e,n)&&y(s,n,e[n]);if(f)for(var n of f(e))H.call(e,n)&&y(s,n,e[n]);return s},u=(s,e)=>L(s,j(e));import{j as p,R as g,r as l,L as x,F as R,u as F,A as B,H as P,B as q,S as A,a as N,b as C}from"./vendor.9a3446d7.js";const I=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};I();const O=(s,e)=>{if(e.type==="QueryHandle")return u(d({},s),{query:e.payload,isLoading:!0});if(e.type==="FetchSuccess")return u(d({},s),{isLoading:!1,news:e.payload})},t=p.exports.jsx,i=p.exports.jsxs,D=p.exports.Fragment,E={query:"",news:[],isLoading:!0},v=g.createContext(),M=({children:s})=>{const[e,n]=l.exports.useReducer(O,E),a=async o=>{const h=await(await fetch(`https://hn.algolia.com/api/v1/search?query=${o}`)).json();console.log(h),n({type:"FetchSuccess",payload:h.hits})},r=o=>{n({type:"QueryHandle",payload:o}),a(o)};return t(v.Provider,{value:u(d({},e),{searchHandler:r,getNews:a}),children:s})},m=()=>l.exports.useContext(v),k=()=>{const{query:s,isLoading:e,news:n}=m();return e?t("div",{className:"loading"}):t("section",{className:"stories",children:n.map(a=>i("div",{className:"story",children:[t("h4",{children:a.title}),i("p",{className:"info",children:[a.points," points | By ",a.author," | ",a.num_comments," comments "]}),t(x,{to:`/${a.objectID}`,className:"read-link",children:"Read More"})]},a.objectID))})},$=()=>{const[s,e]=l.exports.useState(""),{searchHandler:n,query:a}=m();return i("form",{className:"search-form",onSubmit:r=>{r.preventDefault(),n(s)},children:[t("h2",{children:"Search HackerNews"}),i("div",{className:"parent-flex",children:[t("input",{type:"text",onChange:r=>e(r.target.value),className:"form-input"}),t("button",{type:"submit",className:"searchBtn",children:t(R,{size:30})})]})]})},z=()=>{const{query:s,getNews:e}=m();return l.exports.useEffect(()=>{e("React")},[]),i("div",{children:[t($,{}),t(k,{})]})},Q=()=>{const[s,e]=l.exports.useState([]),[n,a]=l.exports.useState("true"),{id:r}=F();console.log(r);const o=async c=>{const w=await(await fetch(`https://hn.algolia.com/api/v1/items/${c}`)).json();e(w),a(!1)};return l.exports.useEffect(()=>{o(r)},[]),n?t("div",{className:"loading"}):i(D,{children:[t(x,{to:"/",children:t("div",{className:"home",children:t(B,{size:23})})}),i("div",{className:"news-parent",children:[t("h3",{children:s.title}),i("h5",{className:"info info-p",children:["By ",s.author," | ",s.points," Points"]}),t("h5",{children:"Comments"}),t("div",{className:"line"}),t("div",{className:"comments"}),s.children.map(c=>t("div",{className:"comments",children:P(c.text)},c.id))]})]})};function T(){return t(q,{children:i(A,{children:[t(N,{path:"/",exact:!0,children:t(z,{})}),t(N,{path:"/:id",children:t(Q,{})})]})})}C.render(t(g.StrictMode,{children:t(M,{children:t(T,{})})}),document.getElementById("root"));
